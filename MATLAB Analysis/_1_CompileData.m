% Author: Rocky Mazorow
% Date: 4/22/2024

clc 
clear

disp('Select folder containing your data');
root = uigetdir('title', 'Select folder containing your data');

if ~exist(root, 'dir')
    disp('Wrong computer');
    return;
end
    
% Remove underscores from subject ID unless YS
%   completed subs: 
%       {'PxS001',...
%        'PyC002','PzC003','PxC004',...
%        'WS001','WS002','WS003','WS004','WS005','WS007','WS008',...
%        'WC003','WC004','WC005','WC006','WC007','WC008','WC009',...
%        'W03_YS016','W03_YS017','WY001','WY002','WY003'};
% 
%   to complete:
%       {'PyC005','WS003','WS007','WY003'};

%subs = {'WS001','WS002','WS003','WS004','WS005','WS007','WS008'};

subs = {'WC003','WC004','WC005','WC006','WC007','WC008','WC009',...
        'WS001','WS002','WS003','WS004','WS005','WS007','WS008','WS010',...
        'WY001','WY002','W03_YS016','W03_YS017','WY003'};

%subs = {'WS010'};

blockW = {'V_01' 'R_01' 'N_01' 'T_01' 'M_01' 'P_01'...
            'C_02' 'C_03' 'C_04' 'C_05' 'C_06' 'C_07'...
            'V_08' 'R_08' 'N_08' 'T_08' 'M_08' 'P_08'...
            'C_09' 'C_10' 'C_11' 'C_12' 'C_13' 'C_14'...
            'V_15' 'R_15' 'N_15' 'T_15' 'M_15' 'P_15'...
            'C_16' 'C_17' 'C_18' 'C_19' 'C_20' 'C_21'...
            'V_22' 'R_22' 'N_22' 'T_22' 'M_22' 'P_22'};
blockP = {'V_01' 'R_01' 'N_01' 'T_01' 'M_01' 'P_01'...
            'A_02' 'A_03' 'A_04' 'A_05' 'A_06' 'A_07'...
            'V_08' 'R_08' 'N_08' 'T_08' 'M_08' 'P_08'...
            'B_09' 'B_10' 'B_11' 'B_12' 'B_13' 'B_14'...
            'V_15' 'R_15' 'N_15' 'T_15' 'M_15' 'P_15'...
            'C_16' 'C_17' 'C_18' 'C_19' 'C_20' 'C_21'...
            'V_22' 'R_22' 'N_22' 'T_22' 'M_22' 'P_22'};
dimsW  = {'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz'};
dimsPx = {'xyz','xyz','xyz','xyz','xyz','xyz',...
            'x','y','z','x','y','z',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xy','yz','zx','xy','yz','zx',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz'};
dimsPy = {'xyz','xyz','xyz','xyz','xyz','xyz',...
            'y','z','x','y','z','x',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'yz','zx','xy','yz','zx','xy',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz'};
dimsPz = {'xyz','xyz','xyz','xyz','xyz','xyz',...
            'z','x','y','z','x','y',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'zx','xy','yz','zx','xy','yz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz',...
            'xyz','xyz','xyz','xyz','xyz','xyz'};

blocks = [blockW' blockP'];
dims = [dimsW' dimsPx' dimsPy' dimsPz'];

%subs = {'WS008'};
%blockT = {'T_01'};
%blocks = [blockT' blockT'];

% Validate and filter data
disp('Removing Duplicates...')
removeDupTrials(root, subs, blocks);
disp('Processing...')
processTrials(root, subs, blocks, dims);
disp('DONE')
